<div class="row justify-content-md-center activation-margin activation-bg">
    <div class="col-xl-3 text-center" *ngIf="!activationSubmitted">
        <img src="../../assets/kavanii_logo2.PNG" alt="logo" class="logo mb-5">
        <form class="activation-form" [formGroup]="activationForm">
            <div>
                <h5>
                    <!-- Your account has been activated. -->
                    Finalise your account setup.
                </h5>
                <p>
                    Please enter your password to finalise your account setup.
                </p>
            </div>
            <div>
                <p *ngIf="errorMessage" class="alert alert-danger">
                    {{ errorMessage }}
                </p>
            </div>
            <div class="alert alert-danger" *ngIf="activationForm.errors?.passwordNotMatch && activationForm.get('confirmPassword').dirty">
                Password does not match.
            </div>
            <div>
                <mat-form-field appearance="outline">
                    <mat-icon matPrefix>person</mat-icon>
                    <mat-label>Password</mat-label>
                    <input matInput placeholder="Password" type="password" formControlName="password" name="password" />
                    <mat-error *ngIf="activationForm.get('password').hasError('required')">
                        Password is required.
                    </mat-error>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="outline">
                    <mat-icon matPrefix>person</mat-icon>
                    <mat-label>Confirm Password</mat-label>
                    <input matInput placeholder="Confirm Password" type="password" formControlName="confirmPassword" name="confirmPassword" />
                    <mat-error *ngIf="activationForm.get('confirmPassword').hasError('required')">
                        Confirm Password is required.
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="mt-3 text-right">
                <button mat-raised-button color="accent" class="mr-3" (click)="accountSetup($event);" [disabled]="submitting || activationForm.invalid">{{ 
                   !submitting ? 'Finalise account' : 'Finalising account...'
                }}</button>
                <button mat-raised-button color="primary" [routerLink]="'/login'">Cancel</button>
            </div>
        </form>
    </div>
    <div class="col-xl-3 text-center" *ngIf="activationSubmitted">
        <img src="../../assets/kavanii_logo2.PNG" alt="logo" class="logo mb-5">
        <form class="forgot-form">
            <div *ngIf="errorMessage">
                <p class="alert alert-danger">
                    {{ errorMessage }}
                </p>
            </div>
            <div *ngIf="!errorMessage">
                <h5>
                    Your account setup has been completed.
                </h5>
                <p>
                    Thank you for submitting your details.
                </p>
            </div>
            <div class="mt-3 text-right">
                <button mat-raised-button color="accent" [routerLink]="'/login'">Back to Sign In</button>
            </div>
        </form>
    </div>
</div>